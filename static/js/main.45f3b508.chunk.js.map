{"version":3,"sources":["pages/Login.js","services/api.js","components/Tweet.js","pages/Timeline.js","App.js","index.js","twitter.svg","like.svg"],"names":["Login","state","username","handleSubmit","e","preventDefault","_this","length","localStorage","setItem","props","history","push","handleInputChange","setState","target","value","react_default","a","createElement","className","src","twitterLogo","alt","onSubmit","this","onChange","placeholder","type","Component","api","axios","create","baseURL","Tweet","handleLike","_callee","_id","regenerator_default","wrap","_context","prev","next","tweet","post","concat","stop","author","content","like","onClick","likes","tweets","newTweet","subscribetoEvents","io","socket","on","data","Object","toConsumableArray","_ref","asyncToGenerator","mark","response","get","sent","_x","apply","arguments","handleNewTweet","_callee2","_context2","keyCode","abrupt","getItem","height","onKeyDown","map","Tweet_Tweet","key","App","BrowserRouter","Switch","Route","path","exact","component","Timeline","ReactDOM","render","src_App","document","getElementById","module","exports","__webpack_require__","p"],"mappings":"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","file":"static/js/main.45f3b508.chunk.js","sourcesContent":["import React, { Component } from 'react'\r\n\r\nimport twitterLogo from '../twitter.svg'\r\nimport './Login.css'\r\n\r\nexport default class Login extends Component {\r\n\r\n    state = {\r\n        username: '',\r\n    }\r\n\r\n    handleSubmit = e => {\r\n        e.preventDefault()\r\n\r\n        const { username } = this.state\r\n\r\n        if (!username.length) return\r\n\r\n        localStorage.setItem('@GoTwitter:username', username)\r\n\r\n        this.props.history.push('/timeline')\r\n    }\r\n\r\n    handleInputChange = e => {\r\n        this.setState({ username:  e.target.value })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className='login-wrapper'>\r\n                <img src={twitterLogo} alt='GoTwitter' />\r\n                <form onSubmit={this.handleSubmit}>\r\n                    <input value={this.state.username} \r\n                           onChange={this.handleInputChange}\r\n                           placeholder='Nome de Usuario' />\r\n                    <button type='submit'>Entrar</button>\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}","import axios from 'axios'\r\n\r\nconst api = axios.create({\r\n    baseURL: 'https://afternoon-anchorage-15995.herokuapp.com'\r\n})\r\n\r\nexport default api","import React, { Component } from 'react';\r\n\r\nimport api from '../services/api'\r\n\r\nimport like from '../like.svg'\r\nimport './Tweet.css'\r\n\r\nexport default class Tweet extends Component {\r\n\r\n    handleLike = async () => {\r\n        const {_id} = this.props.tweet\r\n\r\n        await api.post(`likes/${_id}`)\r\n    }\r\n\r\n  render() {\r\n\r\n    const { tweet } = this.props\r\n\r\n    return (\r\n        <li className='tweet'>\r\n            <strong>{tweet.author}</strong>\r\n            <p>{tweet.content}</p>\r\n            <button type='button'>\r\n                <img src={like} alt='Like' onClick={this.handleLike}/>\r\n                {tweet.likes}\r\n            </button>\r\n        </li>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport api from '../services/api'\r\nimport socket from 'socket.io-client'\r\n\r\nimport twitterLogo from '../twitter.svg'\r\nimport './Timeline.css'\r\n\r\nimport Tweet from '../components/Tweet'\r\n\r\nexport default class Login extends Component {\r\n\r\n    state = {\r\n        tweets: [],\r\n        newTweet: ''\r\n    }\r\n\r\n    async componentDidMount(){\r\n\r\n        this.subscribetoEvents()\r\n\r\n        const response = await api.get('tweets')\r\n\r\n        this.setState({ tweets: response.data })\r\n    }\r\n\r\n    subscribetoEvents = () => {\r\n        const io = socket('https://afternoon-anchorage-15995.herokuapp.com')\r\n\r\n        io.on('tweet', data => {\r\n            this.setState({ tweets: [data, ...this.state.tweets] })\r\n        })\r\n        io.on('like', async data => {\r\n            const response = await api.get('tweets')\r\n\r\n            this.setState({ tweets: response.data })\r\n        })\r\n    }\r\n\r\n    handleNewTweet = async e => {\r\n        if(e.keyCode !== 13) return\r\n\r\n        const content = this.state.newTweet\r\n        const author = localStorage.getItem('@GoTwitter:username')\r\n\r\n        await api.post('tweets', { content, author })\r\n\r\n        this.setState({ newTweet: '' })\r\n    }\r\n\r\n    handleInputChange = e => {\r\n        this.setState({ newTweet: e.target.value })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className='timeline-wrapper'>\r\n                <img height={24} src={twitterLogo} alt='GoTwitter' />\r\n\r\n                <form>\r\n                    <textarea \r\n                        value={this.state.newTweet}\r\n                        onChange={this.handleInputChange}\r\n                        onKeyDown={this.handleNewTweet} \r\n                        placeholder='O que esta acontecendo?' \r\n                    />\r\n                </form>\r\n\r\n                <ul className='tweet-list'>\r\n                { this.state.tweets.map(tweet => (\r\n                    <Tweet key={tweet._id} tweet={tweet}/>\r\n                ))}\r\n                </ul>\r\n            </div>\r\n\r\n        )\r\n    }\r\n}","import React, { Component } from 'react';\nimport { BrowserRouter, Switch, Route } from 'react-router-dom'\n\nimport Login from './pages/Login'\nimport Timeline from './pages/Timeline'\n\nclass App extends Component {\n  render() {\n    return (\n      <BrowserRouter>\n        <Switch>\n          <Route path=\"/\" exact component={Login} />\n          <Route path=\"/timeline\" component={Timeline} />\n        </ Switch>\n      </BrowserRouter>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n","module.exports = __webpack_public_path__ + \"static/media/twitter.7bde2a6d.svg\";","module.exports = __webpack_public_path__ + \"static/media/like.c71630b0.svg\";"],"sourceRoot":""}